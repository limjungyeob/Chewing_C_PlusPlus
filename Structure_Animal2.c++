#include <iostream>
typedef struct Animal {
    char name[30];  //이름
    int age;     // 나이
    int health; // 체력
    int food;    // 배부른정도
    int clean; // 깨끗한정도
    void play() {
        health += 10;
        food-= 20;
        clean-= 30;
    }
    //play를 외부에 선언하지 않고 구조체 Animal로 선언하였음.
} Animal;

void create_animal(Animal *animal) {
    std::cout << "동물의이름? ";
    std::cin >> animal->name;
    std::cout << "동물의나이? ";
    std::cin >> animal->age;
    animal->health = 100;
    animal->food = 100;
    animal->clean = 100;
 }

void one_day_pass(Animal *animal) {
     // 하루가지나면
    animal->health-= 10;
    animal->food-= 30;
    animal->clean-= 20;
}

void show_stat(Animal *animal) {
    std::cout << animal->name <<  "의상태" << std::endl;
    std::cout <<  "체력 : " << animal->health << std::endl;
    std::cout << "배부름: " << animal->food << std::endl;
    std::cout << "청결 : " << animal->clean << std::endl;
}

int main() {
    Animal *list[10];
    int animal_num = 0;
    for (;;) {
        std::cout <<"1. 동물추가하기" << std::endl;
        std::cout <<"2. 놀기" << std::endl;
        std::cout <<"3. 상태보기"<< std::endl;
        int input;
        std::cin >> input;
        switch (input) {
            int play_with;
            case 1:
                list[animal_num] = new Animal;
                create_animal(list[animal_num]);
                animal_num++;
                break;
            case 2:
                std::cout << "누구랑놀게? : ";
                std::cin >> play_with;
                if (play_with < animal_num) {
                    list[play_with] -> play();
                    //play(list[play_with]) -> list[play_with] -> play()  구조체 자체 함수를 선언하여 play함수에 인자를 전달할 필요도 없이 그 즉시 함수 내부에서 변경됨.
                }
                break;
            case 3:
                std::cout <<  "누구껄보게? : ";
                std::cin >> play_with;
                if (play_with < animal_num) show_stat(list[play_with]);
                break;
        }
        for (int i = 0; i != animal_num; i++) {
            one_day_pass(list[i]);
        }
    }
    for (int i = 0; i != animal_num; i++) {
        delete list[i];
    }
}
 